<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>èƒŒæ™¯å›¾ç‰‡æµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .test-item {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
        }

        .bg-preview {
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            margin: 10px 0;
            position: relative;
        }

        .bg-preview::after {
            content: 'åŠ è½½ä¸­...';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
        }

        .bg-preview.loaded::after {
            content: 'âœ“ åŠ è½½æˆåŠŸ';
            background: rgba(0,200,0,0.7);
        }

        .bg-preview.error::after {
            content: 'âœ— åŠ è½½å¤±è´¥';
            background: rgba(200,0,0,0.7);
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            background: #667eea;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }

        button:hover {
            background: #5568d3;
        }

        .url-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .success {
            color: green;
            font-weight: bold;
        }

        .error {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ–¼ï¸ èƒŒæ™¯å›¾ç‰‡æµ‹è¯•å·¥å…·</h1>
        <p>æµ‹è¯•å“ªäº›å›¾ç‰‡æºå¯ä»¥æ­£å¸¸åŠ è½½</p>

        <div class="test-item">
            <h2>æ–¹æ¡ˆ1: Unsplash (æ¨è)</h2>
            <div class="bg-preview" id="test1"
                 style="background-image: url('https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=800&q=80')"></div>
            <p>URL: https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=800&q=80</p>
            <button onclick="applyBackground('https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=1920&q=80')">åº”ç”¨æ­¤èƒŒæ™¯</button>
        </div>

        <div class="test-item">
            <h2>æ–¹æ¡ˆ2: Unsplash Source API</h2>
            <div class="bg-preview" id="test2"
                 style="background-image: url('https://source.unsplash.com/800x600/?woman,portrait')"></div>
            <p>URL: https://source.unsplash.com/1920x1080/?woman,portrait</p>
            <button onclick="applyBackground('https://source.unsplash.com/1920x1080/?woman,portrait')">åº”ç”¨æ­¤èƒŒæ™¯</button>
        </div>

        <div class="test-item">
            <h2>æ–¹æ¡ˆ3: Picsum Photos</h2>
            <div class="bg-preview" id="test3"
                 style="background-image: url('https://picsum.photos/800/600?random=1')"></div>
            <p>URL: https://picsum.photos/1920/1080?random=1</p>
            <button onclick="applyBackground('https://picsum.photos/1920/1080?random=1')">åº”ç”¨æ­¤èƒŒæ™¯</button>
        </div>

        <div class="test-item">
            <h2>æ–¹æ¡ˆ4: æœ¬åœ°å›¾ç‰‡</h2>
            <div class="bg-preview" id="test4"
                 style="background-image: url('img/background.jpg')"></div>
            <p>URL: img/background.jpg (éœ€è¦æ‰‹åŠ¨ä¸‹è½½å›¾ç‰‡)</p>
            <button onclick="applyBackground('img/background.jpg')">åº”ç”¨æ­¤èƒŒæ™¯</button>
        </div>

        <div class="test-item">
            <h2>æ–¹æ¡ˆ5: è‡ªå®šä¹‰URL</h2>
            <input type="text" class="url-input" id="customUrl"
                   placeholder="è¾“å…¥å›¾ç‰‡URLï¼Œä¾‹å¦‚ï¼šhttps://example.com/image.jpg">
            <button onclick="testCustomUrl()">æµ‹è¯•æ­¤URL</button>
            <div class="bg-preview" id="test5" style="background-color: #f0f0f0;"></div>
            <button onclick="applyCustomBackground()">åº”ç”¨æ­¤èƒŒæ™¯</button>
        </div>

        <div class="test-item">
            <h2>ğŸ“ åº”ç”¨ç»“æœ</h2>
            <p id="result">é€‰æ‹©ä¸Šé¢çš„ä»»ä¸€æ–¹æ¡ˆï¼Œç‚¹å‡»"åº”ç”¨æ­¤èƒŒæ™¯"æŒ‰é’®</p>
        </div>
    </div>

    <script>
        // æ£€æµ‹å›¾ç‰‡åŠ è½½çŠ¶æ€
        function checkImageLoad(elementId, url) {
            const element = document.getElementById(elementId);
            const img = new Image();

            img.onload = function() {
                element.classList.add('loaded');
                console.log('âœ“ åŠ è½½æˆåŠŸ:', url);
            };

            img.onerror = function() {
                element.classList.add('error');
                console.log('âœ— åŠ è½½å¤±è´¥:', url);
            };

            img.src = url;
        }

        // æµ‹è¯•æ‰€æœ‰é¢„è®¾å›¾ç‰‡
        window.onload = function() {
            checkImageLoad('test1', 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=800&q=80');
            checkImageLoad('test2', 'https://source.unsplash.com/800x600/?woman,portrait');
            checkImageLoad('test3', 'https://picsum.photos/800/600?random=1');
            checkImageLoad('test4', 'img/background.jpg');
        };

        // æµ‹è¯•è‡ªå®šä¹‰URL
        function testCustomUrl() {
            const url = document.getElementById('customUrl').value;
            if (!url) {
                alert('è¯·è¾“å…¥å›¾ç‰‡URL');
                return;
            }
            const preview = document.getElementById('test5');
            preview.style.backgroundImage = `url('${url}')`;
            preview.classList.remove('loaded', 'error');
            checkImageLoad('test5', url);
        }

        // åº”ç”¨èƒŒæ™¯åˆ°ä¸»åº”ç”¨
        function applyBackground(url) {
            const cssContent = `
/* ä¿®æ”¹ www/css/index.css æ–‡ä»¶ä¸­çš„ .bg-gradient éƒ¨åˆ†ï¼š

.bg-gradient {
    background-image: url('${url}');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
*/`;

            document.getElementById('result').innerHTML = `
                <p class="success">âœ“ å·²é€‰æ‹©æ­¤å›¾ç‰‡æºï¼</p>
                <p>è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
                <ol>
                    <li>æ‰“å¼€æ–‡ä»¶ï¼š<code>www/css/index.css</code></li>
                    <li>æ‰¾åˆ° <code>.bg-gradient</code> éƒ¨åˆ†ï¼ˆçº¦ç¬¬34è¡Œï¼‰</li>
                    <li>ä¿®æ”¹ <code>background-image: url('${url}');</code></li>
                    <li>ä¿å­˜æ–‡ä»¶</li>
                    <li>åˆ·æ–°åº”ç”¨é¡µé¢ï¼ˆCtrl+F5 å¼ºåˆ¶åˆ·æ–°ï¼‰</li>
                </ol>
                <p><strong>å®Œæ•´ä»£ç ï¼š</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto;">${cssContent}</pre>
            `;

            // å¤åˆ¶åˆ°å‰ªè´´æ¿
            navigator.clipboard.writeText(url).then(() => {
                alert('å›¾ç‰‡URLå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\n\n' + url);
            }).catch(() => {
                alert('å›¾ç‰‡URL:\n\n' + url);
            });
        }

        // åº”ç”¨è‡ªå®šä¹‰èƒŒæ™¯
        function applyCustomBackground() {
            const url = document.getElementById('customUrl').value;
            if (!url) {
                alert('è¯·å…ˆæµ‹è¯•è‡ªå®šä¹‰URL');
                return;
            }
            applyBackground(url);
        }
    </script>
</body>
</html>
